<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Invitaci√≥n de Boda | Steve & Tatiana</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">

<style>
:root{
--azul:#1e3a8a;
--azul-claro:#eaf2ff;
--dorado:#d4af37;
}
body{
margin:0;
font-family:'Montserrat',sans-serif;
background:linear-gradient(180deg,#f8fbff,#e8f0ff);
color:var(--azul);
transition:.6s;
}
body.noche{
background:linear-gradient(180deg,#0b1d3a,#102a56);
color:#e5edff;
}
.container{
max-width:900px;
margin:auto;
padding:40px 20px;
text-align:center;
}
.card{
background:white;
border-radius:20px;
padding:50px 30px;
box-shadow:0 30px 60px rgba(0,0,0,.15);
animation:fade 1.2s ease;
position:relative;
overflow:hidden;
}
body.noche .card{
background:#0f2547;
}
@keyframes fade{from{opacity:0;transform:translateY(20px)}to{opacity:1}}
h1,h2{
font-family:'Playfair Display',serif;
}
h1{font-size:3rem}
.divider{
width:120px;
height:2px;
background:var(--azul);
margin:25px auto;
}
.details{line-height:1.8}
.btn{
display:inline-block;
margin:15px;
padding:14px 30px;
background:var(--azul);
color:white;
border-radius:30px;
text-decoration:none;
font-weight:600;
box-shadow:0 10px 20px rgba(30,58,138,.35);
}
.btn.waze{background:#2bb8ff}
.countdown{
display:flex;
justify-content:center;
gap:20px;
margin-top:30px;
}
.time-box{
background:var(--azul-claro);
padding:15px 20px;
border-radius:12px;
min-width:80px;
}
.time-box span{
display:block;
font-size:1.8rem;
font-weight:600;
}
.sello{
position:absolute;
top:20px;
right:20px;
width:75px;
height:75px;
border-radius:50%;
border:2px solid var(--dorado);
display:flex;
align-items:center;
justify-content:center;
font-family:'Playfair Display',serif;
font-size:1.2rem;
color:var(--dorado);
box-shadow:0 0 15px rgba(212,175,55,.5);
}
footer{margin-top:40px;font-size:.9rem}
  /* ‚è≥ Cuenta regresiva ‚Äì correcci√≥n de contraste */
.time-box {
  color: var(--azul);
}

.time-box span {
  color: var(--azul);
}

/* üåô Modo noche */
body.noche .time-box {
  background: rgba(255,255,255,0.08);
  color: #e5edff;
}

body.noche .time-box span {
  color: #ffffff;
}

</style>
</head>

<body>

<audio autoplay loop>
<source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_5f0b5d8c1b.mp3" type="audio/mpeg">
</audio>

<div class="container">
<div class="card">

<div class="sello">S & T</div>

<p>Con la bendici√≥n de Dios y de nuestros padres</p>
<h1>Steve & Tatiana</h1>
<div class="divider"></div>

<p class="details">Tenemos el honor de invitarles a celebrar nuestra boda</p>

<h2 id="guest-name"></h2>

<p class="details">
üìÖ 28 de marzo de 2026<br>
‚õ™ Ceremonia: 3:00 p.m.<br>
ü•Ç Recepci√≥n: 5:30 p.m.
</p>

<h2>Lugar</h2>
<p class="details">Finca Los Pinares</p>

<a class="btn" target="_blank"
href="https://www.google.com/maps/dir/?api=1&destination=Finca+Los+Pinares+Apaneca">
Google Maps
</a>

<a class="btn waze" target="_blank"
href="https://waze.com/ul?q=Finca%20Los%20Pinares%20Apaneca">
Waze
</a>

<div class="countdown">
<div class="time-box"><span id="days">0</span>D√≠as</div>
<div class="time-box"><span id="hours">0</span>Horas</div>
<div class="time-box"><span id="minutes">0</span>Min</div>
<div class="time-box"><span id="seconds">0</span>Seg</div>
</div>

<a id="wa-btn" class="btn">Confirmar asistencia</a>

<footer>C√≥digo de vestimenta: Formal</footer>

<p style="margin-top:30px">
Con cari√±o,<br><strong>Steve & Tatiana</strong>
</p>

</div>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {

  /* üåó Tema autom√°tico */
  const hour = new Date().getHours();
  if (hour >= 18 || hour < 6) {
    document.body.classList.add("noche");
  }

  /* ‚è≥ Cuenta regresiva */
  const daysEl = document.getElementById("days");
  const hoursEl = document.getElementById("hours");
  const minutesEl = document.getElementById("minutes");
  const secondsEl = document.getElementById("seconds");

  const weddingDate = new Date("2026-03-28T15:00:00").getTime();

  function updateCountdown() {
    const now = Date.now();
    let diff = weddingDate - now;
    if (diff < 0) diff = 0;

    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
    const minutes = Math.floor((diff / (1000 * 60)) % 60);
    const seconds = Math.floor((diff / 1000) % 60);

    daysEl.textContent = days;
    hoursEl.textContent = hours;
    minutesEl.textContent = minutes;
    secondsEl.textContent = seconds;
  }

  updateCountdown(); // primera ejecuci√≥n inmediata
  setInterval(updateCountdown, 1000);

  /* üéØ Personalizaci√≥n + tracking */
  const params = new URLSearchParams(window.location.search);
  const guest = decodeURIComponent(params.get("guest") || "Invitado especial");
  const token = params.get("token");

  document.getElementById("guest-name").textContent =
    `Con cari√±o para ${guest}`;

  const WEBHOOK = "https://script.google.com/macros/s/AKfycbweDDtPVKKSxcGT_Ij9OFI16aJgTyKoAbFNz8umQFvFBDfhpHv_i01RFOzha043t7Q7fw/exec";

  if (token) {
    navigator.sendBeacon(
      WEBHOOK,
      JSON.stringify({
        action: "open",
        guest: guest,
        token: token,
        ua: navigator.userAgent
      })
    );
  }

  /* WhatsApp */
  const waBtn = document.getElementById("wa-btn");
  const msg = `Estimados ${guest},

Con mucha alegr√≠a les invitamos a celebrar nuestra boda.
Agradeceremos confirmar su asistencia por este medio.

Con cari√±o,
Steve & Tatiana`;

const waBtn = document.getElementById("wa-btn");
const waLink = `https://wa.me/50370689702?text=${encodeURIComponent(msg)}`;

waBtn.addEventListener("click", (e) => {
  e.preventDefault();

  if (token) {
    navigator.sendBeacon(
      WEBHOOK,
      JSON.stringify({
        action: "confirm",
        guest,
        token
      })
    );
  }

  // Delay seguro para que se registre en el Sheet
  setTimeout(() => {
    window.location.href = waLink;
  }, 600);
});

  wa-btn.addEventListener("click", () => {
  if(token){
    navigator.sendBeacon(WEBHOOK, JSON.stringify({
      action:"confirm",
      guest,
      token
    }));
  }
});


});
</script>
</body>
</html>






